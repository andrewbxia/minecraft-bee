<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>keybind test</title>
    <link rel="stylesheet" href="style.css">
    <style id="keytrail-stylesheet">
        .keytrail.keyup{
            animation: rise 5s linear forwards;
        }
    </style>
    <script src="/scripts/helper-classes.js"></script>
    <script defer src="keysounds.js"></script>
    <script defer src="script.js"></script>
    <script defer src="midi.js"></script>
</head>
<body>
    <header style="display: flex; flex-direction: column;">
        <h1>press anykey!</h1>
        <h6 id="dropped-frames" style="margin: 5px 0;">dropped frames: 0</p>
        <h5 id="fps" style="margin: 0">fps: loading...</h5>
        <h4 id="kps">kps: loading...</h4>
        <h4 id="kps-s">kps(per key): loading...</h4>
        <h5 id="tot-keys">total pressed: loading...</h5>
        <canvas id="vol-display">
                    
        </canvas>
        
        <button id="menu-toggle">
            <p>menu</p>
            <div id="menu">
                <!-- keytrail speed -->
                 <!-- fps adjuster -->
                <div>
                    <label for="keytrail-speed">keytrail speed</label>
                    <input type="range" id="keytrail-speed" min="100" max="10000" value="2000">
                    <p id="keytrail-speed-value">2000ms</p>
                </div>
                <div>
                    <label for="fps-adjust">fps adjust</label>
                    <input type="range" id="fps-adjust" min="1" max="240" value="60">
                    <p id="fps-value">60fps</p>
                </div>
                <div>
                    <label for="kps-time-adjust">kps cumulative time adjust</label>
                    <input type="range" id="kps-time-adjust" min="5" max="10000" value="1000">
                    <p id="kps-time-value">1000ms</p>
                </div>
                <div>
                    <label for="keytrail-appearence">keytrail appearance</label>
                    <input type="range" id="keytrail-appearance" min="0" max="1" step="0.01" value="0.60">
                    <p id="keytrail-appearance-value">60%</p>
                </div>
                <div>
                    <label for="keysound">upload keysound file</label>
                    <input type="file" id="keysound" accept=".mp3,.wav,.ogg">
                    <label for="midi">upload midi file to play</label>
                    <input type="file" id="midi" accept=".mid,.midi">
                </div>
                <div>
                    <fieldset id="vol-display-inputs">
                        <legend>keysound noise visualiser</legend>
                        <label for="vol-display-visibility">
                            display: 
                            <input type="checkbox" id="vol-display-visibility" oninput="volumeDisplayVisibility = this.checked" checked>
                        </label>
                        <label for="vol-display-bars">
                            analyser FFT size: 
                            <input type="range" id="vol-display-bars" min="5" max="15" step="1" value="6" oninput="analyser.fftSize = Math.pow(2, this.value); dataArray = new Uint8Array(analyser.frequencyBinCount);">
                        </label>
                        <label for="vol-display-app">
                            analyzer bar white opacity
                            <input type="range" id="vol-display-app" min="0.01" max="1" step="0.01" value="0.1" oninput="volumeDisplayAppearance = this.value">
                        </label>
                    </fieldset>
                </div>
                <div>
                    <label for="custom-keysound-select">only custom sounds (random selected)</label>
                    <input type="checkbox" id="custom-keysound-select">
                </div>
                <div>
                    <fieldset id="select-keysound">
                        <legend>select keysound</legend>
                        <label>
                            none
                            <input type="radio" value="none" name="keysound" checked />
                        </label>
                    </fieldset>
                </div>
                
            </div>
        </button>
    </header>
    
    <div id="key-container"></div>
    
    
</body>
</html>